<!doctype html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="tachyons.min.css"/>

<body class="pl3 pr3 near-black helvetica">
<main></main>

<script src="mithril.min.js"></script>
<script src="crunch.bundle.js"></script>
<script>
  const CODE_SAMPLE = `import {createEngine} from 'crunch';
const engine = await crunch.createEngine();
const db = engine.open();

db.exec('CREATE TABLE peaks (name TEXT, m INTEGER)');
db.exec('INSERT INTO peaks (name, m) VALUES ("Olympus Mons", 21171)');
db.query('SELECT * FROM peaks');
`;
  let db = null;
  async function initDb() {
    const engine = await crunch.createEngine();
    db = engine.open();
    db.exec('CREATE TABLE peaks (name TEXT, m INTEGER)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Annapurna", 8091)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Broad Peak", 8051)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Cho Oyu", 8201)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Dhaulagiri", 8167)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Everest", 8848)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Gasherbrum I", 8080)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Gasherbrum II", 8035)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("K2", 8611)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Kangchenjunga", 8586)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Lhotse", 8516)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Makalu", 8485)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Manaslu", 8163)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Mount Everest",	8848)')
    db.exec('INSERT INTO peaks (name, m) VALUES ("Nanga Parbat", 8126)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Olympus Mons", 21171)');
    db.exec('INSERT INTO peaks (name, m) VALUES ("Shishapangma", 8027)');
    m.redraw();
  }

  let currentQuery = null;
  let currentHeaders = null;
  let currentRows = null;
  let currentError = null;
  function updateQuery(q) {
    if (db === null)
      return;
    if (!q)
      return;
    if (currentQuery === q)
      return;
    currentQuery = q;
    try {
      const result = db.query(q);
      currentHeaders = result.columns;
      currentRows = [...result];
      currentError = null;
    } catch(e) {
      currentHeaders = null;
      currentRows = null;
      currentError = e;
    }
  }

  class Home {

    queryStyle(query) {
      const length = query.length;
      if (length > 70) {
        return 'f7';
      } else if (length > 60) {
        return 'f6';
      } else if (length > 50) {
        return 'f5';
      } else if (length > 40) {
        return 'f4';
      } else if (length > 20) {
        return 'f3';
      } else {
        return 'f2';
      }
    }

    view({attrs}) {
      updateQuery(attrs.value);
      return [
        m('h1.tc.mb0.f-headline.lh-solid'),
        m('.center.w-50-ns',
          m('.tc.mb2', m("svg.w-100.w-50-ns", {"version":"1.0","xmlns":"http://www.w3.org/2000/svg","width":"1209.730972pt","height":"302.937940pt","viewBox":"0 0 1209.730972 302.937940","preserveAspectRatio":"xMidYMid meet", style: 'height: 1%;'},
  [
    m("g", {"transform":"translate(-32.120766,394.951176) scale(0.100000,-0.100000)","fill":"#000000","stroke":"none"},
      [
        m("path", {"d":"M1189 3935 c-448 -61 -738 -281 -828 -628 -40 -152 -42 -215 -39\n-967 4 -718 4 -726 26 -798 104 -340 372 -544 795 -606 137 -21 448 -21 601\n-1 143 19 329 66 404 103 l57 27 3 51 c6 102 -55 326 -92 340 -9 3 -57 -11\n-107 -31 -51 -20 -144 -51 -208 -68 -110 -29 -127 -30 -311 -31 -161 -1 -207\n2 -265 18 -224 60 -371 207 -404 403 -9 48 -11 252 -8 693 4 697 1 674 75 815\n98 186 279 275 597 291 186 10 341 -15 512 -83 79 -31 95 -34 109 -23 35 30\n109 209 121 295 l6 44 -63 41 c-76 49 -185 84 -338 111 -137 23 -487 25 -643\n4z"}),
        m("path", {"d":"M10684 3929 c-19 -21 -19 -56 -22 -1443 -2 -1011 0 -1432 8 -1459 8\n-26 19 -41 36 -47 29 -12 354 -13 370 -2 33 21 34 50 34 714 0 721 1 729 57\n846 39 81 135 175 220 215 65 31 73 32 193 32 114 0 130 -2 181 -26 108 -51\n178 -150 199 -279 6 -40 10 -329 10 -748 0 -732 0 -725 49 -752 11 -6 91 -10\n185 -10 190 0 199 4 211 82 3 24 5 399 3 833 -4 881 -2 845 -76 995 -45 92\n-132 183 -219 228 -221 116 -583 104 -798 -26 -33 -20 -93 -69 -132 -109 l-73\n-74 -1 488 c0 351 -3 498 -12 523 l-12 35 -196 3 c-188 2 -196 2 -215 -19z"}),
        m("path", {"d":"M7305 3174 c-136 -29 -293 -122 -386 -227 l-37 -42 -7 60 c-19 169\n-28 175 -231 175 -170 0 -197 -7 -214 -53 -7 -20 -10 -357 -10 -1029 0 -1080\n-1 -1060 52 -1073 13 -3 102 -4 198 -3 l174 3 13 25 c10 19 13 174 13 685 0\n735 1 742 66 865 43 82 119 157 198 194 152 72 363 48 479 -53 46 -41 94 -138\n107 -216 6 -35 10 -345 10 -746 l0 -686 23 -34 23 -34 180 -3 c173 -2 181 -2\n200 19 18 20 19 46 19 848 l0 826 -23 78 c-61 213 -185 344 -386 409 -84 28\n-358 35 -461 12z"}),
        m("path", {"d":"M9363 3175 c-342 -62 -559 -258 -667 -603 -45 -144 -58 -242 -63\n-477 -9 -393 43 -638 179 -841 111 -167 270 -258 518 -300 144 -24 423 -16\n530 16 165 48 304 146 395 279 39 58 46 74 41 98 -16 63 -168 163 -247 163\n-31 0 -40 -6 -64 -41 -43 -62 -129 -135 -198 -169 -117 -57 -255 -61 -392 -9\n-81 30 -173 119 -218 212 -68 136 -72 170 -72 557 0 295 3 356 18 420 26 112\n68 193 134 259 190 190 531 183 712 -15 54 -58 85 -59 167 -5 87 57 144 124\n144 172 0 19 -16 41 -57 81 -114 108 -230 168 -378 199 -108 22 -369 25 -482\n4z"}),
        m("path", {"d":"M3530 3140 c-167 -44 -281 -130 -365 -275 l-40 -69 -5 139 c-5 150\n-14 179 -56 195 -36 14 -327 13 -358 -1 -14 -7 -30 -25 -36 -42 -15 -43 -14\n-2012 1 -2056 6 -17 19 -36 29 -41 10 -6 99 -10 198 -10 155 0 181 2 193 17\n11 13 15 138 19 683 l5 666 38 77 c63 127 213 263 341 307 29 11 98 22 155 26\n136 9 131 1 134 225 l2 174 -90 2 c-63 2 -112 -4 -165 -17z"}),
        m("path", {"d":"M4164 3119 c-18 -20 -19 -50 -22 -803 -2 -519 1 -804 8 -851 32 -205\n140 -369 302 -455 92 -50 192 -70 340 -70 254 0 416 60 591 220 l55 51 7 -58\nc11 -93 24 -131 52 -153 26 -20 37 -21 195 -18 145 3 170 5 185 21 17 17 18\n74 21 1025 2 554 0 1022 -3 1040 -3 18 -15 42 -26 53 -17 17 -34 19 -203 19\n-158 0 -185 -2 -197 -17 -12 -13 -15 -143 -19 -717 -5 -695 -6 -702 -28 -760\n-48 -127 -133 -221 -251 -278 -58 -28 -79 -32 -172 -36 -193 -8 -288 39 -358\n177 -49 94 -51 129 -51 864 0 737 0 730 -49 757 -11 6 -92 10 -189 10 -159 0\n-170 -1 -188 -21z"})
      ]
    )
  ]
)),
 m('.tc.mb2', m("svg.w-100.w-50-ns", {"version":"1.0","xmlns":"http://www.w3.org/2000/svg","width":"464.767145pt","height":"45.720000pt","viewBox":"0 0 464.767145 45.720000","preserveAspectRatio":"xMidYMid meet"},
  [
    m("g", {"transform":"translate(-2.092855,47.400000) scale(0.012000,-0.012000)","fill":"#000000","stroke":"none"},
      [
        m("path", {"d":"M4454 3929 c-18 -21 -19 -59 -19 -1470 0 -1376 1 -1449 18 -1466 15\n-16 41 -18 202 -21 174 -3 185 -2 204 17 l21 21 0 1454 c0 1309 -2 1456 -16\n1470 -13 13 -46 16 -203 16 -178 0 -189 -1 -207 -21z"}),
        m("path", {"d":"M5534 3929 c-17 -18 -19 -40 -22 -173 -2 -92 1 -166 8 -188 15 -53\n48 -60 248 -56 148 3 165 5 178 22 21 30 20 363 -2 394 -15 21 -20 22 -203 22\n-178 0 -189 -1 -207 -21z"}),
        m("path", {"d":"M10805 3934 c-152 -23 -345 -85 -443 -141 -53 -31 -59 -53 -45 -163\n13 -98 46 -194 79 -227 l22 -22 84 38 c219 101 377 136 588 128 218 -7 338\n-52 438 -161 71 -77 87 -123 87 -246 -1 -96 -3 -111 -32 -172 -57 -122 -163\n-210 -303 -253 -43 -13 -112 -18 -319 -22 -239 -5 -266 -8 -282 -24 -17 -17\n-19 -37 -19 -187 0 -129 3 -173 14 -188 13 -18 33 -19 308 -25 326 -7 358 -12\n483 -77 172 -90 255 -240 242 -437 -14 -220 -148 -349 -415 -401 -99 -19 -345\n-18 -458 1 -100 17 -278 70 -401 120 -82 33 -83 33 -106 14 -56 -43 -117 -285\n-91 -354 20 -51 362 -162 604 -196 54 -8 183 -13 300 -13 172 0 223 3 316 22\n250 50 419 135 556 280 79 84 134 178 167 287 32 106 36 323 7 425 -65 237\n-241 424 -488 520 -40 16 -74 33 -76 38 -2 6 30 27 70 47 245 125 389 309 427\n545 70 429 -225 758 -754 845 -115 19 -436 18 -560 -1z"}),
        m("path", {"d":"M13694 3929 c-17 -18 -19 -40 -22 -173 -2 -92 1 -166 8 -188 15 -53\n48 -60 248 -56 148 3 165 5 178 22 21 30 20 363 -2 394 -15 21 -20 22 -203 22\n-178 0 -189 -1 -207 -21z"}),
        m("path", {"d":"M19484 3929 c-19 -21 -19 -56 -22 -1443 -2 -1011 0 -1432 8 -1459 8\n-26 19 -41 36 -47 29 -12 354 -13 370 -2 33 21 34 50 34 714 0 721 1 729 57\n846 39 81 135 175 220 215 65 31 73 32 193 32 114 0 130 -2 181 -26 108 -51\n178 -150 199 -279 6 -40 10 -329 10 -748 0 -732 0 -725 49 -752 11 -6 91 -10\n185 -10 190 0 199 4 211 82 3 24 5 399 3 833 -4 881 -2 845 -76 995 -45 92\n-132 183 -219 228 -221 116 -583 104 -798 -26 -33 -20 -93 -69 -132 -109 l-73\n-74 -1 488 c0 351 -3 498 -12 523 l-12 35 -196 3 c-188 2 -196 2 -215 -19z"}),
        m("path", {"d":"M24885 3936 c-20 -14 -20 -35 -23 -1443 -2 -1016 0 -1439 8 -1466 8\n-26 19 -41 36 -47 14 -6 97 -10 185 -10 156 0 160 1 184 25 23 22 25 32 25\n106 l0 81 65 -61 c78 -72 192 -131 315 -161 121 -30 370 -39 460 -16 247 62\n412 252 495 571 42 164 50 245 50 530 0 235 -3 286 -23 394 -100 555 -383 805\n-837 741 -215 -31 -372 -110 -475 -241 l-40 -51 0 504 c0 385 -3 509 -13 528\nl-13 25 -190 3 c-152 2 -193 0 -209 -12z m1050 -1087 c154 -57 257 -239 285\n-499 13 -124 13 -480 0 -595 -28 -246 -116 -407 -258 -473 -74 -34 -220 -43\n-303 -18 -131 38 -269 150 -320 260 l-30 64 4 444 c4 477 3 471 60 584 52 103\n162 198 271 236 75 26 218 24 291 -3z"}),
        m("path", {"d":"M6965 3699 c-175 -49 -215 -63 -235 -81 -19 -18 -20 -30 -20 -268 l0\n-250 -139 0 c-117 0 -141 -3 -152 -17 -10 -12 -14 -51 -14 -148 0 -97 4 -136\n14 -148 11 -14 35 -17 152 -17 l139 0 0 -700 c0 -775 2 -798 63 -913 17 -32\n53 -79 81 -103 100 -90 179 -114 381 -114 144 0 295 18 397 46 52 15 58 19 64\n49 7 38 -11 197 -27 245 -13 36 -7 36 -144 6 -177 -39 -287 -13 -335 79 l-25\n49 -3 678 -3 678 254 0 c225 0 256 2 268 17 10 12 14 50 14 145 0 180 21 168\n-291 168 l-244 0 0 288 c0 334 0 332 -78 331 -26 0 -78 -9 -117 -20z"}),
        m("path", {"d":"M18325 3699 c-175 -49 -215 -63 -235 -81 -19 -18 -20 -30 -20 -268\nl0 -250 -139 0 c-117 0 -141 -3 -152 -17 -10 -12 -14 -51 -14 -148 0 -97 4\n-136 14 -148 11 -14 35 -17 152 -17 l139 0 0 -700 c0 -775 2 -798 63 -913 17\n-32 53 -79 81 -103 100 -90 179 -114 381 -114 144 0 295 18 397 46 52 15 58\n19 64 49 7 38 -11 197 -27 245 -13 36 -7 36 -144 6 -177 -39 -287 -13 -335 79\nl-25 49 -3 678 -3 678 254 0 c225 0 256 2 268 17 10 12 14 50 14 145 0 180 21\n168 -291 168 l-244 0 0 288 c0 334 0 332 -78 331 -26 0 -78 -9 -117 -20z"}),
        m("path", {"d":"M895 3189 c-364 -24 -627 -204 -674 -463 -33 -180 12 -324 145 -466\n86 -91 156 -139 364 -250 202 -108 282 -160 356 -236 80 -80 108 -149 101\n-245 -8 -119 -66 -187 -192 -226 -48 -14 -93 -18 -230 -18 -194 1 -265 13\n-403 70 -124 52 -137 54 -156 17 -32 -61 -43 -239 -18 -279 20 -31 226 -108\n357 -134 48 -10 147 -14 315 -14 203 0 259 3 325 19 208 48 345 146 425 305\n70 139 66 398 -8 555 -80 169 -210 281 -537 466 -153 86 -254 150 -312 197\n-143 117 -94 315 93 372 133 42 376 18 570 -55 37 -14 74 -22 83 -19 36 11 91\n147 91 226 0 61 -20 76 -161 123 -149 50 -327 68 -534 55z"}),
        m("path", {"d":"M8778 3190 c-107 -17 -183 -41 -278 -87 -80 -40 -109 -61 -186 -138\n-82 -81 -98 -103 -148 -205 -64 -131 -98 -254 -122 -434 -22 -167 -14 -520 15\n-654 90 -419 284 -621 683 -709 119 -26 526 -26 718 0 156 22 282 58 316 92\n23 23 24 30 24 163 0 158 -4 167 -67 159 -21 -2 -99 -21 -173 -40 -207 -54\n-452 -71 -610 -43 -106 20 -182 51 -253 105 -112 84 -175 213 -196 403 -6 54\n-11 104 -11 113 0 13 70 15 635 15 453 0 641 3 659 11 54 25 58 55 53 352 -3\n244 -6 280 -26 347 -83 279 -263 452 -550 527 -79 21 -125 26 -261 28 -91 2\n-191 0 -222 -5z m345 -320 c121 -38 199 -133 242 -295 24 -92 40 -265 28 -300\nl-10 -30 -434 0 -434 0 -3 90 c-8 253 115 472 302 537 74 25 224 24 309 -2z"}),
        m("path", {"d":"M22418 3190 c-107 -17 -183 -41 -278 -87 -80 -40 -109 -61 -186 -138\n-82 -81 -98 -103 -148 -205 -64 -131 -98 -254 -122 -434 -22 -167 -14 -520 15\n-654 90 -419 284 -621 683 -709 119 -26 526 -26 718 0 156 22 282 58 316 92\n23 23 24 30 24 163 0 158 -4 167 -67 159 -21 -2 -99 -21 -173 -40 -207 -54\n-452 -71 -610 -43 -106 20 -182 51 -253 105 -112 84 -175 213 -196 403 -6 54\n-11 104 -11 113 0 13 70 15 635 15 453 0 641 3 659 11 54 25 58 55 53 352 -3\n244 -6 280 -26 347 -83 279 -263 452 -550 527 -79 21 -125 26 -261 28 -91 2\n-191 0 -222 -5z m345 -320 c121 -38 199 -133 242 -295 24 -92 40 -265 28 -300\nl-10 -30 -434 0 -434 0 -3 90 c-8 253 115 472 302 537 74 25 224 24 309 -2z"}),
        m("path", {"d":"M34375 3189 c-364 -24 -627 -204 -674 -463 -33 -180 12 -324 145\n-466 86 -91 156 -139 364 -250 202 -108 282 -160 356 -236 80 -80 108 -149\n101 -245 -8 -119 -66 -187 -192 -226 -48 -14 -93 -18 -230 -18 -194 1 -265 13\n-403 70 -124 52 -137 54 -156 17 -32 -61 -43 -239 -18 -279 20 -31 226 -108\n357 -134 48 -10 147 -14 315 -14 203 0 259 3 325 19 208 48 345 146 425 305\n70 139 66 398 -8 555 -80 169 -210 281 -537 466 -153 86 -254 150 -312 197\n-143 117 -94 315 93 372 133 42 376 18 570 -55 37 -14 74 -22 83 -19 36 11 91\n147 91 226 0 61 -20 76 -161 123 -149 50 -327 68 -534 55z"}),
        m("path", {"d":"M36258 3190 c-107 -17 -183 -41 -278 -87 -80 -40 -109 -61 -186 -138\n-82 -81 -98 -103 -148 -205 -64 -131 -98 -254 -122 -434 -22 -167 -14 -520 15\n-654 90 -419 284 -621 683 -709 119 -26 526 -26 718 0 156 22 282 58 316 92\n23 23 24 30 24 163 0 158 -4 167 -67 159 -21 -2 -99 -21 -173 -40 -207 -54\n-452 -71 -610 -43 -106 20 -182 51 -253 105 -112 84 -175 213 -196 403 -6 54\n-11 104 -11 113 0 13 70 15 635 15 453 0 641 3 659 11 54 25 58 55 53 352 -3\n244 -6 280 -26 347 -83 279 -263 452 -550 527 -79 21 -125 26 -261 28 -91 2\n-191 0 -222 -5z m345 -320 c121 -38 199 -133 242 -295 24 -92 40 -265 28 -300\nl-10 -30 -434 0 -434 0 -3 90 c-8 253 115 472 302 537 74 25 224 24 309 -2z"}),
        m("path", {"d":"M2590 3174 c-255 -55 -443 -296 -520 -667 -33 -159 -43 -305 -37\n-536 8 -313 42 -482 139 -681 43 -89 63 -117 132 -186 140 -140 255 -179 501\n-171 242 8 404 64 538 187 l67 62 0 -502 c0 -326 4 -508 10 -521 10 -18 23\n-19 203 -19 151 0 197 3 213 14 19 14 19 41 19 1480 0 1393 -1 1466 -18 1483\n-16 16 -38 18 -203 18 -231 0 -224 5 -224 -147 l0 -100 -85 81 c-66 62 -107\n91 -178 126 -173 85 -389 116 -557 79z m535 -343 c91 -45 181 -134 223 -221\n59 -119 63 -164 60 -633 l-3 -422 -24 -50 c-49 -99 -173 -196 -309 -240 -84\n-27 -239 -18 -313 18 -109 53 -189 169 -232 335 -21 82 -22 107 -22 427 1 334\n1 342 27 436 54 200 146 325 276 374 25 10 70 14 142 12 98 -2 111 -5 175 -36z"}),
        m("path", {"d":"M15585 3174 c-136 -29 -293 -122 -386 -227 l-37 -42 -7 60 c-19 169\n-28 175 -231 175 -170 0 -197 -7 -214 -53 -7 -20 -10 -357 -10 -1029 0 -1080\n-1 -1060 52 -1073 13 -3 102 -4 198 -3 l174 3 13 25 c10 19 13 174 13 685 0\n735 1 742 66 865 43 82 119 157 198 194 152 72 363 48 479 -53 46 -41 94 -138\n107 -216 6 -35 10 -345 10 -746 l0 -686 23 -34 23 -34 180 -3 c173 -2 181 -2\n200 19 18 20 19 46 19 848 l0 826 -23 78 c-61 213 -185 344 -386 409 -84 28\n-358 35 -461 12z"}),
        m("path", {"d":"M29245 3174 c-105 -19 -232 -64 -302 -105 -129 -77 -260 -230 -323\n-376 -85 -202 -114 -390 -107 -708 6 -308 35 -451 125 -635 38 -79 61 -110\n132 -181 164 -165 358 -229 689 -229 311 0 485 64 666 245 138 138 218 302\n262 535 25 134 25 562 0 697 -37 197 -101 363 -183 475 -95 129 -243 225 -414\n269 -113 29 -422 36 -545 13z m310 -304 c190 -27 321 -162 370 -380 12 -55 18\n-144 22 -330 7 -361 -10 -495 -83 -648 -109 -226 -342 -314 -589 -221 -81 30\n-173 119 -218 212 -68 136 -72 170 -72 557 0 381 6 434 65 559 58 122 199 228\n330 250 75 12 95 12 175 1z"}),
        m("path", {"d":"M28010 3140 c-167 -44 -281 -130 -365 -275 l-40 -69 -5 139 c-5 150\n-14 179 -56 195 -36 14 -327 13 -358 -1 -14 -7 -30 -25 -36 -42 -15 -43 -14\n-2012 1 -2056 6 -17 19 -36 29 -41 10 -6 99 -10 198 -10 155 0 181 2 193 17\n11 13 15 138 19 683 l5 666 38 77 c63 127 213 263 341 307 29 11 98 22 155 26\n136 9 131 1 134 225 l2 174 -90 2 c-63 2 -112 -4 -165 -17z"}),
        m("path", {"d":"M38650 3140 c-167 -44 -281 -130 -365 -275 l-40 -69 -5 139 c-5 150\n-14 179 -56 195 -36 14 -327 13 -358 -1 -14 -7 -30 -25 -36 -42 -15 -43 -14\n-2012 1 -2056 6 -17 19 -36 29 -41 10 -6 99 -10 198 -10 155 0 181 2 193 17\n11 13 15 138 19 683 l5 666 38 77 c63 127 213 263 341 307 29 11 98 22 155 26\n136 9 131 1 134 225 l2 174 -90 2 c-63 2 -112 -4 -165 -17z"}),
        m("path", {"d":"M30704 3130 c-12 -4 -24 -16 -27 -25 -4 -9 119 -469 274 -1023 290\n-1042 297 -1064 355 -1091 15 -7 85 -11 180 -11 l156 0 33 33 c29 29 49 83\n181 485 81 249 151 449 154 444 4 -4 62 -200 129 -437 68 -236 132 -445 143\n-463 37 -60 44 -62 251 -62 l189 0 27 28 c15 15 35 47 44 72 31 82 617 2003\n617 2021 0 32 -34 39 -186 39 l-147 0 -36 -38 c-35 -36 -43 -61 -256 -815\n-121 -427 -222 -777 -225 -777 -3 0 -95 348 -204 774 -118 459 -207 787 -219\n806 -11 17 -31 36 -44 41 -13 5 -100 9 -191 9 -176 0 -212 -8 -212 -48 0 -10\n38 -151 85 -314 47 -164 85 -306 85 -315 0 -10 -71 -234 -157 -497 l-158 -478\n-199 769 c-110 422 -206 785 -214 806 -28 72 -42 77 -236 76 -94 0 -180 -4\n-192 -9z"}),
        m("path", {"d":"M5534 3109 c-18 -20 -19 -52 -19 -1061 l0 -1040 24 -19 c21 -17 41\n-19 202 -19 166 0 180 1 199 20 20 20 20 33 20 1064 0 936 -2 1046 -16 1060\n-13 13 -46 16 -203 16 -178 0 -189 -1 -207 -21z"}),
        m("path", {"d":"M13694 3109 c-18 -20 -19 -52 -19 -1061 l0 -1040 24 -19 c21 -17 41\n-19 202 -19 166 0 180 1 199 20 20 20 20 33 20 1064 0 936 -2 1046 -16 1060\n-13 13 -46 16 -203 16 -178 0 -189 -1 -207 -21z"})
      ]
    )
  ]
)),
    
//    m('h2.tc.mt0.mb4.fw4.lh-solid', 'sqlite3 in the browser'),
          m('label[for=query].gray.db', 'Query'),
          m('input[type=text]#query.center.db.code.pa1.mb1.mt1.w-100', {
            style: 'height: 53px',
            class: this.queryStyle(attrs.value || ''),
            value: db === null ? '' : attrs.value,
            onchange: e => attrs.value = e.target.value,
            oninput: e => attrs.value = e.target.value,
            disabled: db === null,
          }),
          m('.gray',
            'Try: ',
            m('span.blue.pointer', { 
              onclick: e => attrs.value = e.target.innerText,
            }, 'select *, round(m*3.28) as ft from peaks order by m desc'), ', ',
            m('span.blue.pointer', {
              onclick: e => attrs.value = e.target.innerText,
            }, 'select sum(m) as elevation from peaks'), '.',
          ),
          currentError && m('.red.mt4', currentError.message),
          currentHeaders && m('table.mt4.collapse.ba.br2.b--black-10.pv2.ph3.w-100',
            m('tr.striped--light-gray', currentHeaders.map(h => m('th.pv2.ph3.tl.f6.fw6.ttu', h))),
            currentRows.map(r => m('tr.striped--light-gray',
              currentHeaders.map(h => m('td.pv2.ph3', r[h]),
            ))),
          ),
          m('.gray.mt5.lh-copy', 'Example'),
          m('pre.pre.lh-copy.code.f7.f5-ns.mt1', CODE_SAMPLE),
          m('.mt5.mb5', 'Is the best for reasons.'),
         
          m('.tc.mb5',
           m('a.ma2', {"href":"https://github.com/chromy/crunch"}, 
             m("svg", {"role":"img","width":"24","height":"24","viewBox":"0 0 24 24","xmlns":"http://www.w3.org/2000/svg"},
               [
                 m("title", 
                   "Github page"
                 ),
                 m("path", {"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})
               ]
             )
           ),

           m('a.ma2', {"href":"https://www.npmjs.com/package/@tsundoku/crunch"},
m("svg", {"id":"n","xmlns":"http://www.w3.org/2000/svg","width":"24","height":"24","viewBox":"0 0 16 16"},
  [
    m("defs", 
      m("style", 
        ".cls-1{fill:#c12127;}.cls-2{fill:#fff;}"
      )
    ),
    m("title", 
      "npm page"
    ),
    m("path", {"class":"cls-1","d":"M0,16V0H16V16ZM3,3V13H8V5h3v8h2V3Z"}),
    m("path", {"class":"cls-2","d":"M3,3H13V13H11V5H8v8H3Z"})
  ]
)
           ),
),

        ),
      ];
    }
  }

  function init() {
    initDb();
    const root = document.querySelector('main');
    
    m.route(root, "/", {
        "/": Home,
    });
  }

  init();
</script>

